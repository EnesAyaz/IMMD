
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>IMMD DESIGN TOOL</title><meta name="generator" content="MATLAB 8.1"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2017-04-11"><meta name="DC.source" content="IMMD_design_tool_v01.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, tt, code { font-size:12px; }
pre { margin:0px 0px 20px; }
pre.error { color:red; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>IMMD DESIGN TOOL</h1><!--introduction--><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">M. U&#287;ur</a></li><li><a href="#2">2017</a></li><li><a href="#4">SPECIFICATIONS</a></li><li><a href="#5">Fundamental blocks:</a></li><li><a href="#6">General Inputs</a></li><li><a href="#7">Stator Parameters</a></li><li><a href="#8">Rotor Parameters</a></li><li><a href="#9">Inverter Parameters</a></li><li><a href="#10">DC Link parameters</a></li><li><a href="#11">Rectifier parameters</a></li><li><a href="#12">NOT USED RIGHT NOW</a></li><li><a href="#13">An example motor from Kollmorgen</a></li></ul></div><h2>M. U&#287;ur<a name="1"></a></h2><h2>2017<a name="2"></a></h2><p>In this file, design of the IMMD system will be conducted. Analytical design methods will be used with the aid of simulations. The relations between the blocks will be considered. The design is for the prototype on BAP Project.</p><h2>SPECIFICATIONS<a name="4"></a></h2><p>Permanent Magnet Brushless DC Motor (PM-BLDC) Cooling: Forced air cooling Motor efficiency aim = 98 % Power stage efficiency aim = 98 % Average winding temperature rise: 130 C Hot spot temperature rise: 160 C Semiconductor temperature rise: 100 C Maximum winding temperature: 200 C</p><h2>Fundamental blocks:<a name="5"></a></h2><p>Rotor Stator Inverter DC Link Rectifier Controller Heat sink</p><h2>General Inputs<a name="6"></a></h2><pre class="codeinput">Pout_total = 8e3; <span class="comment">% Watts</span>
module = 4;
Nrated = 1500; <span class="comment">% rpm</span>
Trated = Pout_total/rated_speed; <span class="comment">% Nm</span>
Pout_module = Pout_total/module; <span class="comment">% Watts</span>
<span class="comment">% Inverter configuration: 0 for H-bridge, 1 for 3-phase bridge</span>
inverter_config = 0;
<span class="comment">% winding configuration: 0 for distributed, 1 for concentrated</span>
winding_config = 1;
</pre><h2>Stator Parameters<a name="7"></a></h2><pre class="codeinput">slot_s = 48;
phase_s = 3;
pole_s = 8;
q_s = slot_s/phase_s/pole_s;
<span class="comment">% slot per module</span>
y_s = slot_s/module;
layer_s = 2;
zQ = 10; <span class="comment">% number of turns per coil side</span>

<span class="comment">% Number of turns per phase per module</span>
Nphm = layer_s*pole_s*zQ*q_s/2;

Do_s = 0.15; <span class="comment">% m</span>
Di_s = 0.1; <span class="comment">% m</span>
L_s = 0.1; <span class="comment">% m</span>

Surface_s = pi*Di_s*L_s; <span class="comment">% m^2</span>
Circum_s = pi*Di_s; <span class="comment">% m</span>
Volume_i = Di_s^2*L_s*pi/4; <span class="comment">% m^3</span>

pitch = 2/3;
pitch_angle = pitch*pi; <span class="comment">% electrical radians</span>
slot_angle = (pole_s/2)*2*pi/slot_s; <span class="comment">% electrical radians</span>
slot_pitch =Circum_s/slot_s; <span class="comment">% m</span>

<span class="comment">% pitch factor</span>
kp1 = sin(pitch_angle/2);

<span class="comment">% distribution factor</span>
kd1 = sin(q_s*slot_angle/2)/(q_s*sin(slot_angle/2));

<span class="comment">% winding factor</span>
kw1 = kp1*kd1;

<span class="comment">% fill factor</span>

<span class="comment">% flux density and flux</span>
Bgap = 0.7; <span class="comment">% Tesla</span>

flux_pp = 4*(Di_s/2)*L_s*Bgap/pole_s; <span class="comment">% Weber</span>
</pre><h2>Rotor Parameters<a name="8"></a></h2><pre class="codeinput">pole_r = 8;
Do_r = 100; <span class="comment">% mm</span>
Di_r = 30; <span class="comment">% mm</span>

motor_eff = 0.9;
</pre><h2>Inverter Parameters<a name="9"></a></h2><pre class="codeinput">ffund = 100; <span class="comment">% Hz</span>
pf = 0.87;
Vll = 400; <span class="comment">% Volts</span>
Nsync = 120*ffund/pole_s; <span class="comment">% rpm</span>
wsync = Nsync*2*pi/60; <span class="comment">% rad/s</span>
fsw = 100e3; <span class="comment">% Hz</span>
Pout_inv_module = Pout_module/motor_eff;
Iline = Pout_inv_module/(Vll*sqrt(2)); <span class="comment">% Amps</span>

<span class="comment">% induced_voltage_per_module_per_phase</span>
Erms = 4.44*ffund*flux_pp*kw1*Nphm; <span class="comment">% Volts</span>
</pre><h2>DC Link parameters<a name="10"></a></h2><h2>Rectifier parameters<a name="11"></a></h2><h2>NOT USED RIGHT NOW<a name="12"></a></h2><h2>An example motor from Kollmorgen<a name="13"></a></h2><pre class="codeinput"><span class="comment">% Datasheet parameters</span>
<span class="comment">% KBM(S)-45X02-X - B</span>
rotor_pole = 10;
Prated = 7200; <span class="comment">% W</span>
Tstall_cont = 43.5; <span class="comment">% Nm</span>
Tstall_peak = 171; <span class="comment">% Nm</span>
Icont = 14.9; <span class="comment">% Arms</span>
Nrated = 2350; <span class="comment">% rpm</span>
Kt = 2.98; <span class="comment">% Nm/Arms</span>
Kb = 180; <span class="comment">% Vrms/krpm</span>
Rlinetoline = 0.76; <span class="comment">%Ohms</span>
Lm = 12; <span class="comment">% mH</span>
Vt_ll = 480; <span class="comment">% V</span>

<span class="comment">% Back emf at rated speed (line-to-line)</span>
Ea_ll = Kb*Nrated*1e-3; <span class="comment">% V</span>
Ea = Ea_ll/sqrt(3); <span class="comment">% V</span>
<span class="comment">% Terminal voltage</span>
Vt = Vt_ll/sqrt(3);
<span class="comment">% Phase resistance</span>
Ra = Rlinetoline/2; <span class="comment">% Ohms</span>
<span class="comment">% Drive frequency</span>
</pre><p>Datasheet parameters KBM(S)-88X00-X - B</p><pre class="codeinput">rotor_pole = 46;
Prated = 5460; <span class="comment">% W</span>
Tstall_cont = 102; <span class="comment">% Nm</span>
Tstall_peak = 197; <span class="comment">% Nm</span>
Icont = 34; <span class="comment">% Arms</span>
Nrated = 1000; <span class="comment">% rpm</span>
Kt = 3.04; <span class="comment">% Nm/Arms</span>
Kb = 184; <span class="comment">% Vrms/krpm</span>
Rlinetoline = 0.165; <span class="comment">%Ohms</span>
Lm = 1.6; <span class="comment">% mH</span>
Vt_ll = 240; <span class="comment">% V</span>

<span class="comment">% Back emf at rated speed (line-to-line)</span>
Ea_ll = Kb*Nrated*1e-3; <span class="comment">% V</span>
Ea = Ea_ll/sqrt(3); <span class="comment">% V</span>
<span class="comment">% Terminal voltage</span>
Vt = Vt_ll/sqrt(3);
<span class="comment">% Phase resistance</span>
Ra = Rlinetoline/2; <span class="comment">% Ohms</span>

stator_slot = 36;
phase = 3;

<span class="comment">% Drive frequency</span>
</pre><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2013a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% IMMD DESIGN TOOL
%% M. Uğur
%% 2017
%%
% In this file, design of the IMMD system will be conducted. 
% Analytical design methods will be used with the aid of simulations.
% The relations between the blocks will be considered.
% The design is for the prototype on BAP Project.

%% SPECIFICATIONS
% Permanent Magnet Brushless DC Motor (PM-BLDC)
% Cooling: Forced air cooling
% Motor efficiency aim = 98 % 
% Power stage efficiency aim = 98 % 
% Average winding temperature rise: 130 C
% Hot spot temperature rise: 160 C
% Semiconductor temperature rise: 100 C
% Maximum winding temperature: 200 C


%% Fundamental blocks:
% Rotor
% Stator
% Inverter
% DC Link
% Rectifier
% Controller
% Heat sink

%% General Inputs
Pout_total = 8e3; % Watts
module = 4;
Nrated = 1500; % rpm
Trated = Pout_total/rated_speed; % Nm
Pout_module = Pout_total/module; % Watts
% Inverter configuration: 0 for H-bridge, 1 for 3-phase bridge
inverter_config = 0;
% winding configuration: 0 for distributed, 1 for concentrated
winding_config = 1;


%% Stator Parameters
slot_s = 48;
phase_s = 3;
pole_s = 8;
q_s = slot_s/phase_s/pole_s;
% slot per module
y_s = slot_s/module;
layer_s = 2;
zQ = 10; % number of turns per coil side

% Number of turns per phase per module
Nphm = layer_s*pole_s*zQ*q_s/2;

Do_s = 0.15; % m
Di_s = 0.1; % m
L_s = 0.1; % m

Surface_s = pi*Di_s*L_s; % m^2
Circum_s = pi*Di_s; % m
Volume_i = Di_s^2*L_s*pi/4; % m^3

pitch = 2/3;
pitch_angle = pitch*pi; % electrical radians
slot_angle = (pole_s/2)*2*pi/slot_s; % electrical radians
slot_pitch =Circum_s/slot_s; % m

% pitch factor
kp1 = sin(pitch_angle/2);

% distribution factor
kd1 = sin(q_s*slot_angle/2)/(q_s*sin(slot_angle/2));

% winding factor
kw1 = kp1*kd1;

% fill factor

% flux density and flux
Bgap = 0.7; % Tesla

flux_pp = 4*(Di_s/2)*L_s*Bgap/pole_s; % Weber


%% Rotor Parameters
pole_r = 8;
Do_r = 100; % mm
Di_r = 30; % mm

motor_eff = 0.9;

%% Inverter Parameters
ffund = 100; % Hz
pf = 0.87;
Vll = 400; % Volts
Nsync = 120*ffund/pole_s; % rpm
wsync = Nsync*2*pi/60; % rad/s
fsw = 100e3; % Hz
Pout_inv_module = Pout_module/motor_eff;
Iline = Pout_inv_module/(Vll*sqrt(2)); % Amps

% induced_voltage_per_module_per_phase
Erms = 4.44*ffund*flux_pp*kw1*Nphm; % Volts


%% DC Link parameters



%% Rectifier parameters




%% NOT USED RIGHT NOW

%% An example motor from Kollmorgen

% Datasheet parameters
% KBM(S)-45X02-X - B
rotor_pole = 10;
Prated = 7200; % W
Tstall_cont = 43.5; % Nm
Tstall_peak = 171; % Nm
Icont = 14.9; % Arms
Nrated = 2350; % rpm
Kt = 2.98; % Nm/Arms
Kb = 180; % Vrms/krpm
Rlinetoline = 0.76; %Ohms
Lm = 12; % mH
Vt_ll = 480; % V

% Back emf at rated speed (line-to-line)
Ea_ll = Kb*Nrated*1e-3; % V
Ea = Ea_ll/sqrt(3); % V
% Terminal voltage
Vt = Vt_ll/sqrt(3);
% Phase resistance
Ra = Rlinetoline/2; % Ohms
% Drive frequency

%%
% Datasheet parameters
% KBM(S)-88X00-X - B
rotor_pole = 46;
Prated = 5460; % W
Tstall_cont = 102; % Nm
Tstall_peak = 197; % Nm
Icont = 34; % Arms
Nrated = 1000; % rpm
Kt = 3.04; % Nm/Arms
Kb = 184; % Vrms/krpm
Rlinetoline = 0.165; %Ohms
Lm = 1.6; % mH
Vt_ll = 240; % V

% Back emf at rated speed (line-to-line)
Ea_ll = Kb*Nrated*1e-3; % V
Ea = Ea_ll/sqrt(3); % V
% Terminal voltage
Vt = Vt_ll/sqrt(3);
% Phase resistance
Ra = Rlinetoline/2; % Ohms

stator_slot = 36;
phase = 3;

% Drive frequency



##### SOURCE END #####
--></body></html>